# 日本語IT試験学習アプリ

本プロジェクトは、基本情報技術者試験を対象とした日本語の学習支援アプリです。選択問題の練習、IT用語カード、誤答統計、弱点分析といった機能を備え、試験対策や日常のIT日本語学習にご活用いただけます。

## 主な機能
- **ユーザー管理機能**：ユーザー登録、ログイン、自動ログイン機能
- **問題演習機能**：日本語の選択問題、即時採点、解説表示
- **誤答統計**：知識分類ごとの誤答率を表示、弱点分野を自動推薦
- **IT用語カード**：日本語のIT用語を例文・意味付きで分類表示
- **データ永続化**：全データは PostgreSQL データベースに保存
- **全日本語インターフェース**：問題文・用語・UI すべて日本語対応

## 技術スタック
- **フロントエンド**：React 17
- **バックエンド**：Node.js + Express
- **データベース**：PostgreSQL
- **認証**：JWT + bcryptjs

## 環境構築手順

### 1. 依存パッケージのインストール
```bash
npm install                 # バックエンドの依存をインストール
cd client && npm install   # フロントエンドの依存をインストール
```

### 2. データベースの設定
- PostgreSQL をローカル環境にインストール・起動してください
- データベース `fe_exam_app` を作成します
- プロジェクトのルートに `.env` ファイルを作成し、以下の内容を記述：

```env
DATABASE_URL=postgresql://postgres:あなたのパスワード@localhost:5432/fe_exam_app
JWT_SECRET=your_super_secret_jwt_key
PORT=5000
```

**注意**：`あなたのパスワード` を、ご自身の PostgreSQL パスワードに置き換えてください

## 起動手順

### 1. データベースの起動
Windows のサービスマネージャまたはコマンドラインから PostgreSQL を起動

### 2. データベースの初期化（初回またはリセット時）
```bash
npm run init-db
```

### 3. 問題の一括インポート（任意）
```bash
node add-more-questions.js
```

### 4. バックエンドの起動
```bash
npm run server
```

### 5. フロントエンドの起動
```bash
cd client
npm start
```

### 6. アプリへアクセス
ブラウザで [http://localhost:3000](http://localhost:3000) を開いてください

## よくあるトラブルと対処法

### データベース接続エラー
- PostgreSQL サービスが起動しているか確認
- `.env` の設定（DB名・パスワード）が正しいか確認
- データベースが作成されているか確認

### フロントエンドが起動しない
- `client` ディレクトリ内で `npm install` を実行済みか確認
- Node.js のバージョンが対応しているか確認

### API リクエストが失敗する
- バックエンドが起動しているか確認
- ポート（5000/3000）が他で使用されていないか確認

### 問題や用語が表示されない
- データベースが初期化され、データが入っているか確認
- 必要に応じて `node add-more-questions.js` を再実行

## ディレクトリ構成
```
fe_exam_app/
├── index.js                # バックエンドメインサーバー
├── db.js                   # データベース接続設定
├── init-db.js              # データベース初期化スクリプト
├── add-more-questions.js   # 問題一括インポートスクリプト
├── package.json            # バックエンド依存設定
├── .env                    # 環境変数設定ファイル
└── client/                 # フロントエンドReactアプリ
    ├── src/
    │   ├── App.js          # メインアプリコンポーネント
    │   └── components/     # 機能別コンポーネント
    │       ├── Login.js        # ログイン画面
    │       ├── Register.js     # 新規登録画面
    │       ├── Quiz.js         # 問題演習画面
    │       └── WordCards.js    # IT用語カード画面
    └── package.json        # フロントエンド依存設定
```

## お問い合わせ
ご不明点・ご要望がございましたら、以下の方法で開発者までご連絡ください：
- メール：ths50618@ths.hal.ac.jp

---

## セキュリティと公開前チェックリスト

- [.env.example] に環境変数の雛形を用意しました。実運用の秘密情報は `.env` にのみ記載し、`.env` はコミットしないでください（`.gitignore` 済み）。
- 既に `.env` をコミットしてしまった場合は、パスワードやシークレットを即時ローテーションし、Git の履歴から削除してください（後述の手順参照）。
- `db.js` は `DATABASE_URL` が未設定だと起動時にエラーになります。必ず `.env` を設定してください。
- `index.js` は `JWT_SECRET` が未設定だと起動時にエラーになります。十分に長くランダムな値を設定してください。

## 環境変数の設定例

`.env.example` を `.env` にコピーして値を設定してください。

```bash
cp .env.example .env
# 値をエディタで編集
```

主要変数:
- `DATABASE_URL`: `postgresql://<user>:<password>@localhost:5432/fe_exam_app`
- `JWT_SECRET`: 強力なランダム文字列
- `PORT`: デフォルトは `5000`

---

**合格と学習のご成功を心よりお祈り申し上げます。** 
