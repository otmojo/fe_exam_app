const { Pool } = require('pg');

const pool = new Pool({
  user: 'postgres',
  host: 'localhost',
  database: 'fe_exam_app',
  password: 'hal',
  port: 5432,
  ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : false
});

async function addOfficialITTerms() {
  try {
    console.log('📝 基本情報技術者試験公式IT用語を追加中...');
    
    // テクノロジ系 - 基礎理論
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('2進数', '0と1の2つの数字で数を表す記数法', 'テクノロジ系 - 基礎理論'),
      ('16進数', '0～9とA～Fの16個の数字で数を表す記数法', 'テクノロジ系 - 基礎理論'),
      ('論理演算', '真偽値（true/false）を対象とする演算', 'テクノロジ系 - 基礎理論'),
      ('浮動小数点数', '小数点の位置を動的に調整して数を表す方式', 'テクノロジ系 - 基礎理論'),
      ('キャッシュメモリ', 'CPUと主記憶装置の間の高速な記憶装置', 'テクノロジ系 - 基礎理論')
    `);
    
    // テクノロジ系 - アルゴリズムとプログラミング
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('クイックソート', '分割統治法を用いた高速なソートアルゴリズム', 'テクノロジ系 - アルゴリズムとプログラミング'),
      ('スタック', '後入れ先出し（LIFO）のデータ構造', 'テクノロジ系 - アルゴリズムとプログラミング'),
      ('再帰関数', '自分自身を呼び出す関数', 'テクノロジ系 - アルゴリズムとプログラミング'),
      ('二分探索', 'ソート済み配列を半分ずつ絞り込んで検索するアルゴリズム', 'テクノロジ系 - アルゴリズムとプログラミング'),
      ('ハッシュテーブル', 'キーと値のペアを格納するデータ構造', 'テクノロジ系 - アルゴリズムとプログラミング')
    `);
    
    // テクノロジ系 - コンピュータ構成要素
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('CPU', '中央処理装置。コンピュータの頭脳として働く', 'テクノロジ系 - コンピュータ構成要素'),
      ('マルチコアプロセッサ', '複数のコアを持つプロセッサ', 'テクノロジ系 - コンピュータ構成要素'),
      ('仮想メモリ', '物理メモリを拡張する技術', 'テクノロジ系 - コンピュータ構成要素'),
      ('DMA', 'CPUを介さずにメモリとI/Oデバイス間でデータ転送を行う機能', 'テクノロジ系 - コンピュータ構成要素'),
      ('パイプライン処理', '複数の命令を重複して実行する技術', 'テクノロジ系 - コンピュータ構成要素')
    `);
    
    // テクノロジ系 - システム構成要素
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('RAID', '複数のディスクを組み合わせて信頼性や性能を向上させる技術', 'テクノロジ系 - システム構成要素'),
      ('クラスタリング', '複数のサーバーを連携させて可用性を向上させる技術', 'テクノロジ系 - システム構成要素'),
      ('負荷分散', '複数のサーバーに処理を分散させる技術', 'テクノロジ系 - システム構成要素'),
      ('バックアップ', 'データの複製を作成して保存すること', 'テクノロジ系 - システム構成要素'),
      ('ディザスタリカバリ', '災害発生時のシステム復旧計画', 'テクノロジ系 - システム構成要素')
    `);
    
    // テクノロジ系 - ソフトウェア
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('OS', 'オペレーティングシステム。ハードウェアとアプリケーションの橋渡し', 'テクノロジ系 - ソフトウェア'),
      ('仮想化', '物理的なリソースを論理的に分割する技術', 'テクノロジ系 - ソフトウェア'),
      ('コンパイラ', '高級言語を機械語に変換するプログラム', 'テクノロジ系 - ソフトウェア'),
      ('インタープリタ', 'ソースコードを1行ずつ実行するプログラム', 'テクノロジ系 - ソフトウェア'),
      ('ミドルウェア', 'アプリケーション間の連携を支援するソフトウェア', 'テクノロジ系 - ソフトウェア')
    `);
    
    // テクノロジ系 - ヒューマンインターフェース
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('ユーザビリティ', '使いやすさ。学習しやすさ、効率性、満足度を含む', 'テクノロジ系 - ヒューマンインターフェース'),
      ('アクセシビリティ', '誰でも利用できるようにすること', 'テクノロジ系 - ヒューマンインターフェース'),
      ('ユーザーインターフェース', 'ユーザーとシステムの接点', 'テクノロジ系 - ヒューマンインターフェース'),
      ('ヒューリスティック評価', '専門家がユーザビリティの問題を発見する手法', 'テクノロジ系 - ヒューマンインターフェース'),
      ('プロトタイプ', '試作品。早期のフィードバックを得るために作成', 'テクノロジ系 - ヒューマンインターフェース')
    `);
    
    // テクノロジ系 - マルチメディア
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('JPEG', '画像の非可逆圧縮方式', 'テクノロジ系 - マルチメディア'),
      ('MP3', '音声データの圧縮方式', 'テクノロジ系 - マルチメディア'),
      ('MPEG', '動画データの圧縮方式', 'テクノロジ系 - マルチメディア'),
      ('ストリーミング', '動画や音声をダウンロードしながら同時に再生する技術', 'テクノロジ系 - マルチメディア'),
      ('VR', '仮想現実。ユーザーに没入感を与える技術', 'テクノロジ系 - マルチメディア')
    `);
    
    // テクノロジ系 - データベース
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('正規化', 'データの重複を排除し、整合性を保つための手法', 'テクノロジ系 - データベース'),
      ('インデックス', 'データベースの検索速度を向上させる仕組み', 'テクノロジ系 - データベース'),
      ('ACID特性', 'トランザクションの4つの特性（原子性、一貫性、独立性、永続性）', 'テクノロジ系 - データベース'),
      ('ビュー', '実際のテーブルから作成される仮想的なテーブル', 'テクノロジ系 - データベース'),
      ('ストアドプロシージャ', '事前にコンパイルされたSQL文の集合', 'テクノロジ系 - データベース')
    `);
    
    // テクノロジ系 - ネットワーク
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('IPアドレス', 'ネットワーク上の機器を識別する番号', 'テクノロジ系 - ネットワーク'),
      ('サブネットマスク', 'IPアドレスのネットワーク部とホスト部を区別するための値', 'テクノロジ系 - ネットワーク'),
      ('DHCP', 'クライアントにIPアドレスを自動的に割り当てるプロトコル', 'テクノロジ系 - ネットワーク'),
      ('DNS', 'ドメイン名をIPアドレスに変換するシステム', 'テクノロジ系 - ネットワーク'),
      ('NAT', 'プライベートIPアドレスをグローバルIPアドレスに変換する技術', 'テクノロジ系 - ネットワーク')
    `);
    
    // テクノロジ系 - セキュリティ
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('共通鍵暗号', '暗号化と復号化に同じ鍵を使用する方式', 'テクノロジ系 - セキュリティ'),
      ('公開鍵暗号', '公開鍵と秘密鍵のペアを使用する方式', 'テクノロジ系 - セキュリティ'),
      ('デジタル署名', 'データの改ざんを検知し、送信者の認証を行う技術', 'テクノロジ系 - セキュリティ'),
      ('ファイアウォール', '不正アクセスを遮断するシステム', 'テクノロジ系 - セキュリティ'),
      ('VPN', '暗号化された仮想的な通信路', 'テクノロジ系 - セキュリティ')
    `);
    
    // マネジメント系 - プロジェクトマネジメント
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('プロジェクト制約', 'スコープ・スケジュール・コストの3つの制約', 'マネジメント系 - プロジェクトマネジメント'),
      ('WBS', 'Work Breakdown Structure。プロジェクトの作業を階層的に分解する手法', 'マネジメント系 - プロジェクトマネジメント'),
      ('クリティカルパス', 'プロジェクト完了までに最も時間がかかる作業の経路', 'マネジメント系 - プロジェクトマネジメント'),
      ('リスクマネジメント', 'リスクの識別、分析、対応、監視の4つのプロセス', 'マネジメント系 - プロジェクトマネジメント'),
      ('ステークホルダー管理', 'プロジェクト関係者の期待を適切に管理すること', 'マネジメント系 - プロジェクトマネジメント')
    `);
    
    // マネジメント系 - サービスマネジメント
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('SLA', 'Service Level Agreement。サービスレベルに関する合意', 'マネジメント系 - サービスマネジメント'),
      ('インシデント管理', 'サービス障害の迅速な復旧を目的とした管理', 'マネジメント系 - サービスマネジメント'),
      ('問題管理', 'インシデントの根本原因を究明し、再発を防ぐ管理', 'マネジメント系 - サービスマネジメント'),
      ('変更管理', 'システム変更を適切に制御し、リスクを最小化する管理', 'マネジメント系 - サービスマネジメント'),
      ('リリース管理', '新しいサービスやシステムのリリースを統制する管理', 'マネジメント系 - サービスマネジメント')
    `);
    
    // ストラテジ系 - システム戦略
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('システム化計画', 'システム導入の計画。現状分析から始まる', 'ストラテジ系 - システム戦略'),
      ('ROI', 'Return on Investment。投資対効果を表す指標', 'ストラテジ系 - システム戦略'),
      ('TCO', 'Total Cost of Ownership。導入から運用、廃棄までの総コスト', 'ストラテジ系 - システム戦略'),
      ('アウトソーシング', '外部に業務を委託すること', 'ストラテジ系 - システム戦略'),
      ('システム監査', 'システムの適切性、効率性、安全性を評価すること', 'ストラテジ系 - システム戦略')
    `);
    
    // ストラテジ系 - 経営戦略
    await pool.query(`
      INSERT INTO it_terms (term, meaning, category) VALUES
      ('SWOT分析', 'Strengths、Weaknesses、Opportunities、Threatsの分析', 'ストラテジ系 - 経営戦略'),
      ('PEST分析', 'Political、Economic、Social、Technologicalの分析', 'ストラテジ系 - 経営戦略'),
      ('バリューチェーン', '企業の価値創造プロセスを分析する手法', 'ストラテジ系 - 経営戦略'),
      ('コアコンピタンス', '他社が模倣困難な競争優位の源泉となる能力', 'ストラテジ系 - 経営戦略'),
      ('ブルーオーシャン戦略', '競争のない新市場を創造する戦略', 'ストラテジ系 - 経営戦略')
    `);
    
    console.log('✅ 基本情報技術者試験公式IT用語が正常に追加されました！');
    console.log('📊 分類構成（基本情報技術者試験公式）:');
    console.log('   - テクノロジ系: 60%');
    console.log('   - マネジメント系: 20%');
    console.log('   - ストラテジ系: 20%');
    
  } catch (err) {
    console.error('❌ IT用語の追加に失敗しました:', err.message);
  } finally {
    await pool.end();
  }
}

addOfficialITTerms(); 